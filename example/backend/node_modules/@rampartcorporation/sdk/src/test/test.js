// Import directly from your local files
import { RampartClient } from "../../dist/esm/index.js";

async function testRampartClient() {
  try {
    // Initialize client
    const rampartClient = new RampartClient({
      secret: "23bec71d-0bcb-4f51-92b5-228102c82431",
      environment: "development",
    });

    // Test payload
    const rampartPayload = {
      iss: "a1e01b75-d66c-4234-90c3-2e8b9941b7da", // Your partner ID
      user: {
        id: "1234567890",
        firstName: "Sam",
        lastName: "Doe",
        email: "john@example.com",
      },
      business: {
        id: "1234567890",
        name: "Acme, Inc.",
        addressLine1: "123 Main St",
        city: "San Francisco",
        state: "CA",
        zip: "94101",
        country: "USA",
        email: "contact@acme.com",
      },
    };

    // Generate the Rampart URL
    const response = await rampartClient.generateRampartLink(rampartPayload);

    const rampartUrl = response.data.link;

    console.log("Rampart URL:", rampartUrl);
  } catch (error) {
    console.error("Error testing Rampart client:", error);
  }
}

// Run the test
testRampartClient();
